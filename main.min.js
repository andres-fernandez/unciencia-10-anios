import{renderVoronoid}from"./render-voronoid.min.js";document.addEventListener("DOMContentLoaded",function(){"use strict";d3.csv("unciencia-especial10anios-DB_FINAL.csv",d3.autoType).then(e=>{let t=performance.now();renderVoronoid(e);let n=performance.now();console.log("Dataviz render in "+(n-t)+"ms")});document.querySelector("audio").controls=!1;const e=document.getElementById("dataviz-voronoid-container");document.getElementById("dataviz-content-display").addEventListener("click",t=>{let n=t.target.className;if(["clipped","dataviz-post-video-thumbnail","play-pause","play-pause listen","dataviz-unciencia-up"].includes(n))switch(n){case"clipped":!function(e){e.target.classList.remove("clipped")}(t);break;case"dataviz-unciencia-up":e.scrollIntoView({behavior:"smooth"});break;case"dataviz-post-video-thumbnail":!function(e){const t=e.target.parentElement;t.dataset.player="on",e.target.nextElementSibling.innerHTML=`<iframe src="https://www.youtube.com/embed/${t.dataset.videoId}?autoplay=1&modestbranding=1&fs=1&rel=0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`}(t);break;default:!function(e){const t=document.querySelector(".dataviz-post-podcast-player").querySelector("audio");n=t,a=e.target,n.paused?(n.play(),a.classList.add("listen")):(n.pause(),a.classList.remove("listen")),function(e){const t=document.querySelector(".time span:first-child");e.addEventListener("timeupdate",function(){let n=e.currentTime.toFixed(0),a=Math.floor(n/60);a=a<10?"0"+a:a;let o=n<60?n:Math.floor(n%60);o=o<10?"0"+o:o,t.textContent=`${a}:${o}`})}(t),function(e){let t=document.querySelector(".audiotrack span");e.addEventListener("timeupdate",function(){t.style.width=(100/e.duration*e.currentTime).toFixed(2)+"%"})}(t);var n,a}(t)}})});